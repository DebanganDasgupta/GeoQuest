<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>GeoQuest - Guess The location</title>
    <link rel="stylesheet" href="clone.css" type="text/css" />
  </head>
  <div class="header">
    <div class="logo">
      <img src="assets/GeoQuest_Logo-removebg-preview.png" alt="" />
    </div>
  </div>
  <h1>Guess the location</h1>
  <div id="round"></div>

  <body>
    <div class="back_button">
      <a href="index.html" class="hidden-link">Back</a>
    </div>
    <div id="map"></div>
    <div id="pano"></div>
    <audio id="gameAudio" src="assets/game-music-loop-3-144252 (1).mp3" loop></audio>

    <div id="buttons" class="container">
      <div>
        <button
          type="button"
          class="btn btn-primary btn-lg btn btn-dark"
          onclick="check()"
          id="check"
        >
          Guess!
        </button>
        <button
          type="button"
          class="btn btn-primary btn-lg btn btn-dark"
          onclick="initialize()"
          id="next"
        >
          Next Location
        </button>
      </div>
    </div>
    <div class="container" id="result"></div>

    <div id="center" class="container">
      <div id="location"></div>
      <div id="distance"></div>
    </div>

    <div id="info">
      <footer id="totaldistance"></footer>
    </div>
    <audio autoplay>
      <source src="game-music-loop-3-144252.mp3" />
      your browser doesn't support audio
    </audio>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="clone.js" type="text/javascript"></script>
    <script type="text/javascript" src="config.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script
      async
      defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCVgXgtRbhYDNlKifUVNsP2VyXWkCwN6ng&callback=initialize"
    ></script>
    <script>
      // document.addEventListener('DOMContentLoaded', function() {
      //     const audio = document.getElementById('gameAudio');
      //     audio.play().catch(error => {
      //         console.error("Autoplay prevented:", error);
      //         // Optionally show a button to let the user play the audio
      //         const playButton = document.createElement('button');
      //         playButton.textContent = 'Play Audio';
      //         playButton.onclick = function() {
      //             audio.play();
      //             playButton.remove();
      //         };
      //         document.body.appendChild(playButton);
      //     });
      // });
      document.addEventListener('DOMContentLoaded', function() {
  const audio = document.getElementById('gameAudio');

  // Function to play audio
  function playAudio() {
      audio.play().catch(error => {
          console.error("Autoplay prevented:", error);
          // Show a button only if autoplay fails
          if (!document.getElementById('playAudioBtn')) {
              const playButton = document.createElement('button');
              playButton.textContent = 'Play Audio';
              playButton.id = 'playAudioBtn';
              playButton.onclick = function() {
                  audio.play();
                  playButton.remove();
              };
              document.body.appendChild(playButton);
          }
      });
  }

  // Try playing audio when the user clicks anywhere
  document.body.addEventListener('click', function() {
      if (audio.paused) {
          playAudio();
      }
  }, { once: true }); // Runs only once to prevent multiple event triggers
});
  </script>
  </body>
</html>
